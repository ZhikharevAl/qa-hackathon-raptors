{"uid":"e8f6cdfc55d940dc","name":"Test create user","fullName":"tests.test_users.TestUsersAPI#test_create_user","historyId":"7906fed064abe2a7a41f166381015ab4","time":{"start":1733114762971,"stop":1733114762971,"duration":0},"description":"Verify user creation and data validation","descriptionHtml":"<p>Verify user creation and data validation</p>\n","status":"broken","statusMessage":"ValueError: Request failed with status 422","statusTrace":"user_api_client = <services.users.user_api_client.UserAPIClient object at 0x7ff345ebee70>\nrequest = <SubRequest 'new_user' for <Function test_create_user[api-3]>>\n\n    @pytest.fixture(params=[\"api-3\", \"api-22\"])\n    def new_user(\n        user_api_client: UserAPIClient, request: pytest.FixtureRequest\n    ) -> Generator[dict[str, Any], Any, None]:\n        \"\"\"\n        A fixture for creating a new user that will be automatically deleted after the test.\n    \n        :param user_api_client: A client for working with the user API\n        :param request: Fixture request object, used for parametrization\n        \"\"\"\n        task_id = request.param\n>       user: dict[str, Any] = user_api_client.create_user(task_id)\n\nconftest.py:65: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.users.user_api_client.UserAPIClient object at 0x7ff345ebee70>\ntask_id = 'api-3'\n\n    def create_user(self, task_id: str) -> dict[str, Any]:\n        \"\"\"\n        Creating a new user.\n    \n        :param task_id: Task ID\n        :return: Full API Response\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        response = self.post(\n            USERS_ENDPOINT, headers=headers, json=self.payloads.create_user\n        )\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422\n\nservices/users/user_api_client.py:88: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1733114760863,"stop":1733114760863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733114760863,"stop":1733114760863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1733114760863,"stop":1733114760863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1733114760863,"stop":1733114760865,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1733114760863,"stop":1733114760863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1733114760865,"stop":1733114761312,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1733114761312,"stop":1733114761327,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_user","time":{"start":1733114762972,"stop":1733114763250,"duration":278},"status":"broken","statusMessage":"ValueError: Request failed with status 422\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/conftest.py\", line 65, in new_user\n    user: dict[str, Any] = user_api_client.create_user(task_id)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/services/users/user_api_client.py\", line 88, in create_user\n    raise ValueError(msg)\n","steps":[],"attachments":[{"uid":"32eeeacac3fcae24","name":"API Response","source":"32eeeacac3fcae24.txt","type":"text/plain","size":64},{"uid":"946329722c0f2642","name":"Status Code","source":"946329722c0f2642.txt","type":"text/plain","size":3},{"uid":"57b082001cedfa29","name":"Headers","source":"57b082001cedfa29.txt","type":"text/plain","size":566},{"uid":"abef7094bac036f1","name":"URL","source":"abef7094bac036f1.txt","type":"text/plain","size":49}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"user_api_client","time":{"start":1733114762972,"stop":1733114762972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"api_request_context::0","time":{"start":1733114766671,"stop":1733114766676,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1733114766676,"stop":1733114766682,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"User API Operations"},{"name":"epic","value":"User Management"},{"name":"severity","value":"critical"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_users"},{"name":"subSuite","value":"TestUsersAPI"},{"name":"host","value":"fv-az1445-62"},{"name":"thread","value":"5486-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_users"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"new_user","value":"'api-3'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":4,"skipped":0,"passed":4,"unknown":0,"total":11},"items":[{"uid":"9be272cc3fefa366","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/5//#testresult/9be272cc3fefa366","status":"broken","statusDetails":"ValueError: Request failed with status 422","time":{"start":1733114594938,"stop":1733114594938,"duration":0}},{"uid":"47e459a8fa537608","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/6//#testresult/47e459a8fa537608","status":"broken","statusDetails":"ValueError: Request failed with status 422","time":{"start":1733114575479,"stop":1733114575479,"duration":0}},{"uid":"7398a673c8e743a0","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/5//#testresult/7398a673c8e743a0","status":"failed","statusDetails":"AssertionError: User data validation failed: 1 validation error for UserResponse\nnickname\n  String should have at least 2 characters [type=string_too_short, input_value='', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_too_short","time":{"start":1733100687594,"stop":1733100687595,"duration":1}},{"uid":"9c7750861daa7b12","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/4//#testresult/9c7750861daa7b12","status":"failed","statusDetails":"AssertionError: User data validation failed: 1 validation error for UserResponse\nnickname\n  String should have at least 2 characters [type=string_too_short, input_value='', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_too_short","time":{"start":1733100080644,"stop":1733100080645,"duration":1}},{"uid":"2f44f00b0c3ee5b6","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/4//#testresult/2f44f00b0c3ee5b6","status":"passed","time":{"start":1733094768563,"stop":1733094768563,"duration":0}},{"uid":"649b68d0afced2ec","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/3//#testresult/649b68d0afced2ec","status":"passed","time":{"start":1733094542123,"stop":1733094542123,"duration":0}},{"uid":"514f5005efca0de4","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/2//#testresult/514f5005efca0de4","status":"passed","time":{"start":1733087333300,"stop":1733087333300,"duration":0}},{"uid":"609aab2feeb85590","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/3//#testresult/609aab2feeb85590","status":"failed","statusDetails":"AssertionError: User data validation failed: 1 validation error for UserResponse\nnickname\n  String should have at least 2 characters [type=string_too_short, input_value='', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.10/v/string_too_short","time":{"start":1733086962888,"stop":1733086962889,"duration":1}},{"uid":"9ebf44839eca9f9c","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/2//#testresult/9ebf44839eca9f9c","status":"broken","statusDetails":"ValueError: Request failed with status 404","time":{"start":1733086643809,"stop":1733086643809,"duration":0}},{"uid":"da5b9c0ad993a9bb","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/1//#testresult/da5b9c0ad993a9bb","status":"passed","time":{"start":1733085920247,"stop":1733085920247,"duration":0}}]},"tags":[]},"source":"e8f6cdfc55d940dc.json","parameterValues":["'api-3'"]}