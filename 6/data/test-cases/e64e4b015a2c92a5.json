{"uid":"e64e4b015a2c92a5","name":"Test adding a game to the wishlist","fullName":"tests.test_wishlist#test_add_game_to_wishlist","historyId":"a4dc512a7d00e6c981727975148785b7","time":{"start":1733114576769,"stop":1733114576980,"duration":211},"description":"Verify adding a game to the user's wishlist","descriptionHtml":"<p>Verify adding a game to the user's wishlist</p>\n","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f40764d1e80>\nnew_user = {'avatar_url': '', 'email': 'wreyes@example.net', 'name': 'Jeffery', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f40764d1e80>\ntask_id = 'api-5', user_uuid = 'd17a1b22-ce43-49d3-beb8-a4f7e3588de9'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1733114571374,"stop":1733114571374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1733114571374,"stop":1733114571374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733114571375,"stop":1733114571375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1733114571375,"stop":1733114571375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1733114571375,"stop":1733114571377,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1733114571377,"stop":1733114571862,"duration":485},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1733114571862,"stop":1733114571886,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wishlist_api_client","time":{"start":1733114576281,"stop":1733114576281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_api_client","time":{"start":1733114576281,"stop":1733114576281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_user","time":{"start":1733114576281,"stop":1733114576768,"duration":487},"status":"passed","steps":[],"attachments":[{"uid":"14d8069ba2d9da43","name":"API Response","source":"14d8069ba2d9da43.txt","type":"text/plain","size":154},{"uid":"e9fb8060723f1e89","name":"Status Code","source":"e9fb8060723f1e89.txt","type":"text/plain","size":3},{"uid":"2b7deacbf04f0c2","name":"Headers","source":"2b7deacbf04f0c2.txt","type":"text/plain","size":648},{"uid":"c2b63b284109fa4e","name":"URL","source":"c2b63b284109fa4e.txt","type":"text/plain","size":45}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Verify adding a game to the user's wishlist","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f40764d1e80>\nnew_user = {'avatar_url': '', 'email': 'wreyes@example.net', 'name': 'Jeffery', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f40764d1e80>\ntask_id = 'api-5', user_uuid = 'd17a1b22-ce43-49d3-beb8-a4f7e3588de9'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","steps":[{"name":"Adding a game to the wishlist","time":{"start":1733114576769,"stop":1733114576979,"duration":210},"status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n","statusTrace":"  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/tests/test_wishlist.py\", line 30, in test_add_game_to_wishlist\n    response_data = wishlist_api_client.add_an_item_to_wishlist(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/services/wishlist/api_client_wishlist.py\", line 38, in add_an_item_to_wishlist\n    raise ValueError(msg)\n","steps":[],"attachments":[{"uid":"adf7c5c54e73a297","name":"API Response","source":"adf7c5c54e73a297.txt","type":"text/plain","size":67},{"uid":"2808094a78b9fa78","name":"Status Code","source":"2808094a78b9fa78.txt","type":"text/plain","size":3},{"uid":"30803c3f62383e28","name":"Headers","source":"30803c3f62383e28.txt","type":"text/plain","size":566},{"uid":"a5a28a547735af61","name":"URL","source":"a5a28a547735af61.txt","type":"text/plain","size":95}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_user::0","time":{"start":1733114576984,"stop":1733114577633,"duration":649},"status":"passed","steps":[],"attachments":[{"uid":"b7963d7ae613f47d","name":"API Response","source":"b7963d7ae613f47d.txt","type":"text/plain","size":14},{"uid":"e5270a8a70bbd644","name":"Status Code","source":"e5270a8a70bbd644.txt","type":"text/plain","size":3},{"uid":"7b95485cb18e3b3f","name":"Headers","source":"7b95485cb18e3b3f.txt","type":"text/plain","size":579},{"uid":"6aec7d6548cc2413","name":"URL","source":"6aec7d6548cc2413.txt","type":"text/plain","size":82}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1733114577634,"stop":1733114577639,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1733114577639,"stop":1733114577644,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Add Game to Wishlist"},{"name":"epic","value":"Wishlist Management"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_wishlist"},{"name":"host","value":"fv-az564-111"},{"name":"thread","value":"5481-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_wishlist"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"new_user","value":"'api-3'"},{"name":"task_id","value":"'api-5'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"e64e4b015a2c92a5.json","parameterValues":["'api-3'","'api-5'"]}