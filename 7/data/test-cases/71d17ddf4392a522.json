{"uid":"71d17ddf4392a522","name":"Test adding a game to the wishlist","fullName":"tests.test_wishlist#test_add_game_to_wishlist","historyId":"a4dc512a7d00e6c981727975148785b7","time":{"start":1733115645975,"stop":1733115646228,"duration":253},"description":"Verify adding a game to the user's wishlist","descriptionHtml":"<p>Verify adding a game to the user's wishlist</p>\n","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d779875-5010-4329-b4ca-a4800c77bd86/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f99cbf13aa0>\nnew_user = {'avatar_url': '', 'email': 'longangela@example.net', 'name': 'Jennifer', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f99cbf13aa0>\ntask_id = 'api-5', user_uuid = '2d779875-5010-4329-b4ca-a4800c77bd86'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d779875-5010-4329-b4ca-a4800c77bd86/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1733115630864,"stop":1733115630864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1733115630864,"stop":1733115630865,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733115630864,"stop":1733115630864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1733115630864,"stop":1733115630864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1733115630864,"stop":1733115630864,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1733115630866,"stop":1733115631104,"duration":238},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1733115631104,"stop":1733115631112,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_user","time":{"start":1733115645439,"stop":1733115645974,"duration":535},"status":"passed","steps":[],"attachments":[{"uid":"f2064a10055a288","name":"API Response","source":"f2064a10055a288.txt","type":"text/plain","size":159},{"uid":"d9d0fe471633f65b","name":"Status Code","source":"d9d0fe471633f65b.txt","type":"text/plain","size":3},{"uid":"1fc8890969dba41e","name":"Headers","source":"1fc8890969dba41e.txt","type":"text/plain","size":648},{"uid":"8ccaee7c5f323be8","name":"URL","source":"8ccaee7c5f323be8.txt","type":"text/plain","size":45}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"user_api_client","time":{"start":1733115645439,"stop":1733115645439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wishlist_api_client","time":{"start":1733115645439,"stop":1733115645439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verify adding a game to the user's wishlist","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d779875-5010-4329-b4ca-a4800c77bd86/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f99cbf13aa0>\nnew_user = {'avatar_url': '', 'email': 'longangela@example.net', 'name': 'Jennifer', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f99cbf13aa0>\ntask_id = 'api-5', user_uuid = '2d779875-5010-4329-b4ca-a4800c77bd86'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d779875-5010-4329-b4ca-a4800c77bd86/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","steps":[{"name":"Adding a game to the wishlist","time":{"start":1733115645975,"stop":1733115646228,"duration":253},"status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d779875-5010-4329-b4ca-a4800c77bd86/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n","statusTrace":"  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/tests/test_wishlist.py\", line 30, in test_add_game_to_wishlist\n    response_data = wishlist_api_client.add_an_item_to_wishlist(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/services/wishlist/api_client_wishlist.py\", line 38, in add_an_item_to_wishlist\n    raise ValueError(msg)\n","steps":[],"attachments":[{"uid":"5bff80e1d471eb74","name":"API Response","source":"5bff80e1d471eb74.txt","type":"text/plain","size":67},{"uid":"bbad81572e47db6c","name":"Status Code","source":"bbad81572e47db6c.txt","type":"text/plain","size":3},{"uid":"351bdd69eb71e1c2","name":"Headers","source":"351bdd69eb71e1c2.txt","type":"text/plain","size":566},{"uid":"d18b1c0772145387","name":"URL","source":"d18b1c0772145387.txt","type":"text/plain","size":95}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_user::0","time":{"start":1733115646232,"stop":1733115646968,"duration":736},"status":"passed","steps":[],"attachments":[{"uid":"1a21350e3bca8f04","name":"API Response","source":"1a21350e3bca8f04.txt","type":"text/plain","size":14},{"uid":"87c1357cadac05a7","name":"Status Code","source":"87c1357cadac05a7.txt","type":"text/plain","size":3},{"uid":"1faa3c1f70ff217e","name":"Headers","source":"1faa3c1f70ff217e.txt","type":"text/plain","size":579},{"uid":"734efade9bde49ce","name":"URL","source":"734efade9bde49ce.txt","type":"text/plain","size":82}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1733115650121,"stop":1733115650124,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1733115650124,"stop":1733115650130,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Wishlist Management"},{"name":"feature","value":"Add Game to Wishlist"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_wishlist"},{"name":"host","value":"fv-az1437-820"},{"name":"thread","value":"5520-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_wishlist"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"new_user","value":"'api-3'"},{"name":"task_id","value":"'api-5'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":1,"unknown":0,"total":5},"items":[{"uid":"218318ebec8bdc92","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/7//#testresult/218318ebec8bdc92","status":"passed","time":{"start":1733115462560,"stop":1733115463854,"duration":1294}},{"uid":"3a13ff5a90bfad0b","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/6//#testresult/3a13ff5a90bfad0b","status":"broken","statusDetails":"ValueError: Request failed with status 422","time":{"start":1733114764109,"stop":1733114764109,"duration":0}},{"uid":"5b14fefd0c5f37e5","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/5//#testresult/5b14fefd0c5f37e5","status":"broken","statusDetails":"ValueError: Request failed with status 422","time":{"start":1733114596593,"stop":1733114596593,"duration":0}},{"uid":"e64e4b015a2c92a5","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/6//#testresult/e64e4b015a2c92a5","status":"broken","statusDetails":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/d17a1b22-ce43-49d3-beb8-a4f7e3588de9/wishlist/add' status=422 status_text='Unprocessable Entity'>>","time":{"start":1733114576769,"stop":1733114576980,"duration":211}}]},"tags":[]},"source":"71d17ddf4392a522.json","parameterValues":["'api-3'","'api-5'"]}