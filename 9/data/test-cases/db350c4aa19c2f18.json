{"uid":"db350c4aa19c2f18","name":"Test adding a game to the wishlist","fullName":"tests.test_wishlist#test_add_game_to_wishlist","historyId":"a4dc512a7d00e6c981727975148785b7","time":{"start":1733116762452,"stop":1733116762643,"duration":191},"description":"Verify adding a game to the user's wishlist","descriptionHtml":"<p>Verify adding a game to the user's wishlist</p>\n","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d16ae9d-8157-4285-98fe-8edcb4e86346/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7feaf341af60>\nnew_user = {'avatar_url': '', 'email': 'martinezpatricia@example.net', 'name': 'Danielle', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7feaf341af60>\ntask_id = 'api-5', user_uuid = '2d16ae9d-8157-4285-98fe-8edcb4e86346'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d16ae9d-8157-4285-98fe-8edcb4e86346/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1733116750373,"stop":1733116750373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733116750373,"stop":1733116750373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1733116750373,"stop":1733116750374,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1733116750373,"stop":1733116750373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1733116750373,"stop":1733116750373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1733116750374,"stop":1733116750609,"duration":235},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1733116750610,"stop":1733116750617,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wishlist_api_client","time":{"start":1733116761990,"stop":1733116761990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_api_client","time":{"start":1733116761990,"stop":1733116761990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_user","time":{"start":1733116761991,"stop":1733116762451,"duration":460},"status":"passed","steps":[],"attachments":[{"uid":"2581d1c065dc06b1","name":"API Response","source":"2581d1c065dc06b1.txt","type":"text/plain","size":165},{"uid":"d3b197d77534d61a","name":"Status Code","source":"d3b197d77534d61a.txt","type":"text/plain","size":3},{"uid":"58565b71866b0e4d","name":"Headers","source":"58565b71866b0e4d.txt","type":"text/plain","size":648},{"uid":"11247a0e0bc7d9c7","name":"URL","source":"11247a0e0bc7d9c7.txt","type":"text/plain","size":45}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Verify adding a game to the user's wishlist","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d16ae9d-8157-4285-98fe-8edcb4e86346/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7feaf341af60>\nnew_user = {'avatar_url': '', 'email': 'martinezpatricia@example.net', 'name': 'Danielle', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7feaf341af60>\ntask_id = 'api-5', user_uuid = '2d16ae9d-8157-4285-98fe-8edcb4e86346'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d16ae9d-8157-4285-98fe-8edcb4e86346/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","steps":[{"name":"Adding a game to the wishlist","time":{"start":1733116762452,"stop":1733116762643,"duration":191},"status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/2d16ae9d-8157-4285-98fe-8edcb4e86346/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n","statusTrace":"  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/tests/test_wishlist.py\", line 30, in test_add_game_to_wishlist\n    response_data = wishlist_api_client.add_an_item_to_wishlist(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/services/wishlist/api_client_wishlist.py\", line 38, in add_an_item_to_wishlist\n    raise ValueError(msg)\n","steps":[],"attachments":[{"uid":"7d8d11b1af55c1cf","name":"API Response","source":"7d8d11b1af55c1cf.txt","type":"text/plain","size":67},{"uid":"285b25d16bb78919","name":"Status Code","source":"285b25d16bb78919.txt","type":"text/plain","size":3},{"uid":"79801c0400a004f","name":"Headers","source":"79801c0400a004f.txt","type":"text/plain","size":566},{"uid":"1978677282d336e","name":"URL","source":"1978677282d336e.txt","type":"text/plain","size":95}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_user::0","time":{"start":1733116762646,"stop":1733116763361,"duration":715},"status":"passed","steps":[],"attachments":[{"uid":"af6de73fbda49363","name":"API Response","source":"af6de73fbda49363.txt","type":"text/plain","size":14},{"uid":"10fb80a198d8b6ce","name":"Status Code","source":"10fb80a198d8b6ce.txt","type":"text/plain","size":3},{"uid":"40fb42e9dcd4fbee","name":"Headers","source":"40fb42e9dcd4fbee.txt","type":"text/plain","size":579},{"uid":"57e5544e81d163f5","name":"URL","source":"57e5544e81d163f5.txt","type":"text/plain","size":82}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1733116766020,"stop":1733116766023,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1733116766023,"stop":1733116766029,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Add Game to Wishlist"},{"name":"epic","value":"Wishlist Management"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_wishlist"},{"name":"host","value":"fv-az885-149"},{"name":"thread","value":"5565-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_wishlist"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"new_user","value":"'api-3'"},{"name":"task_id","value":"'api-5'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"99c322512a944d00","reportUrl":"https://ZhikharevAl.github.io/qa-hackathon-raptors/8//#testresult/99c322512a944d00","status":"broken","statusDetails":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>","time":{"start":1733116334447,"stop":1733116334659,"duration":212}}]},"tags":[]},"source":"db350c4aa19c2f18.json","parameterValues":["'api-3'","'api-5'"]}