{"uid":"99c322512a944d00","name":"Test adding a game to the wishlist","fullName":"tests.test_wishlist#test_add_game_to_wishlist","historyId":"a4dc512a7d00e6c981727975148785b7","time":{"start":1733116334447,"stop":1733116334659,"duration":212},"description":"Verify adding a game to the user's wishlist","descriptionHtml":"<p>Verify adding a game to the user's wishlist</p>\n","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f8fa300b140>\nnew_user = {'avatar_url': '', 'email': 'suarezjames@example.com', 'name': 'Bonnie', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f8fa300b140>\ntask_id = 'api-5', user_uuid = '91956ea8-fbcd-45df-a63b-7dd6f4efae5b'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1733116321555,"stop":1733116321555,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1733116321556,"stop":1733116321556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1733116321556,"stop":1733116321556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1733116321556,"stop":1733116321557,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1733116321556,"stop":1733116321556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1733116321557,"stop":1733116321794,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1733116321795,"stop":1733116321802,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_api_client","time":{"start":1733116333970,"stop":1733116333970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wishlist_api_client","time":{"start":1733116333970,"stop":1733116333970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_user","time":{"start":1733116333970,"stop":1733116334447,"duration":477},"status":"passed","steps":[],"attachments":[{"uid":"d4cab91db1140c6a","name":"API Response","source":"d4cab91db1140c6a.txt","type":"text/plain","size":158},{"uid":"dc2c182e8b9f193b","name":"Status Code","source":"dc2c182e8b9f193b.txt","type":"text/plain","size":3},{"uid":"9a6947a7633c6061","name":"Headers","source":"9a6947a7633c6061.txt","type":"text/plain","size":648},{"uid":"a25133e024448f9d","name":"URL","source":"a25133e024448f9d.txt","type":"text/plain","size":45}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Verify adding a game to the user's wishlist","status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>","statusTrace":"wishlist_api_client = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f8fa300b140>\nnew_user = {'avatar_url': '', 'email': 'suarezjames@example.com', 'name': 'Bonnie', 'nickname': '', ...}\ntask_id = 'api-5'\n\n    @allure.epic(\"Wishlist Management\")\n    @allure.feature(\"Add Game to Wishlist\")\n    @allure.title(\"Test adding a game to the wishlist\")\n    @allure.description(\"Verify adding a game to the user's wishlist\")\n    @pytest.mark.parametrize(\"task_id\", [\"api-5\", \"api-25\"])\n    def test_add_game_to_wishlist(\n        wishlist_api_client: WishlistAPIClient, new_user: dict, task_id: str\n    ) -> None:\n        \"\"\"\n        Test adding a game to the user's wishlist.\n    \n        :param wishlist_api_client: Instance of WishlistAPIClient\n        :param new_user: Fixture with a newly created user\n        :param task_id: Task ID\n        \"\"\"\n        user_uuid = UUID(new_user[\"uuid\"])\n        item_uuid = \"03dbad48-ad81-433d-9901-dd5332f5d9ee\"\n    \n        with allure.step(\"Adding a game to the wishlist\"):\n>           response_data = wishlist_api_client.add_an_item_to_wishlist(\n                task_id=task_id, user_uuid=str(user_uuid), item_uuid=item_uuid\n            )\n\ntests/test_wishlist.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.wishlist.api_client_wishlist.WishlistAPIClient object at 0x7f8fa300b140>\ntask_id = 'api-5', user_uuid = '91956ea8-fbcd-45df-a63b-7dd6f4efae5b'\nitem_uuid = '03dbad48-ad81-433d-9901-dd5332f5d9ee'\n\n    def add_an_item_to_wishlist(\n        self, task_id: str, user_uuid: str, item_uuid: str\n    ) -> dict:\n        \"\"\"\n        Adding an item to the user's wishlist.\n    \n        :param task_id: Task ID\n        :param user_uuid: UUID of the user\n        :param item_uuid: UUID of the item to add to the wishlist\n        \"\"\"\n        headers = {\"X-Task-Id\": task_id}\n        endpoint = f\"{USERS_ENDPOINT}/{user_uuid}/{WISHLIST_ENDPOINT}/add\"\n        data = {\"item_uuid\": item_uuid}\n        response = self.post(endpoint, headers=headers, json=data)\n    \n        if not response.ok:\n            msg = f\"Request failed with status {response.status}: {response.text}\"\n>           raise ValueError(msg)\nE           ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n\nservices/wishlist/api_client_wishlist.py:38: ValueError","steps":[{"name":"Adding a game to the wishlist","time":{"start":1733116334447,"stop":1733116334658,"duration":211},"status":"broken","statusMessage":"ValueError: Request failed with status 422: <bound method APIResponse.text of <APIResponse url='https://dev-gs.qa-playground.com/api/v1/users/91956ea8-fbcd-45df-a63b-7dd6f4efae5b/wishlist/add' status=422 status_text='Unprocessable Entity'>>\n","statusTrace":"  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/tests/test_wishlist.py\", line 30, in test_add_game_to_wishlist\n    response_data = wishlist_api_client.add_an_item_to_wishlist(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/qa-hackathon-raptors/qa-hackathon-raptors/services/wishlist/api_client_wishlist.py\", line 38, in add_an_item_to_wishlist\n    raise ValueError(msg)\n","steps":[],"attachments":[{"uid":"4f68a2bbb10d24b0","name":"API Response","source":"4f68a2bbb10d24b0.txt","type":"text/plain","size":67},{"uid":"11288fe47952213b","name":"Status Code","source":"11288fe47952213b.txt","type":"text/plain","size":3},{"uid":"1f90a6c0451a1393","name":"Headers","source":"1f90a6c0451a1393.txt","type":"text/plain","size":566},{"uid":"f160dbef35611b2c","name":"URL","source":"f160dbef35611b2c.txt","type":"text/plain","size":95}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_user::0","time":{"start":1733116334662,"stop":1733116335403,"duration":741},"status":"passed","steps":[],"attachments":[{"uid":"5a8f79309f7159e0","name":"API Response","source":"5a8f79309f7159e0.txt","type":"text/plain","size":14},{"uid":"8ff0910e6cd269d3","name":"Status Code","source":"8ff0910e6cd269d3.txt","type":"text/plain","size":3},{"uid":"3e7db4647a86c7c6","name":"Headers","source":"3e7db4647a86c7c6.txt","type":"text/plain","size":579},{"uid":"3429bec82ed3f4c6","name":"URL","source":"3429bec82ed3f4c6.txt","type":"text/plain","size":82}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1733116338218,"stop":1733116338221,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1733116338221,"stop":1733116338227,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Add Game to Wishlist"},{"name":"epic","value":"Wishlist Management"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_wishlist"},{"name":"host","value":"fv-az692-554"},{"name":"thread","value":"5498-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_wishlist"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"new_user","value":"'api-3'"},{"name":"task_id","value":"'api-5'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"99c322512a944d00.json","parameterValues":["'api-3'","'api-5'"]}